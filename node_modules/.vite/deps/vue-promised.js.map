{
  "version": 3,
  "sources": ["../../.pnpm/vue-promised@2.2.0_vue@3.2.38/node_modules/vue-promised/dist/vue-promised.esm-bundler.js"],
  "sourcesContent": ["/*!\n  * vue-promised v2.1.0\n  * (c) 2021 Eduardo San Martin Morote\n  * @license MIT\n  */\nimport { ref, computed, watch, unref, defineComponent, toRefs, reactive, isVue3, warn } from 'vue-demi';\n\n/**\r\n * Returns the state of a Promise and observes the Promise if it's a Ref to\r\n * automatically update the state\r\n *\r\n * @param promise Ref of a Promise or raw Promise\r\n * @param pendingDelay optional delay to wait before displaying pending\r\n */\r\nfunction usePromise(promise, pendingDelay = 200) {\r\n    const isRejected = ref(false);\r\n    const isResolved = ref(false);\r\n    const isPending = computed(() => !isRejected.value && !isResolved.value);\r\n    const isDelayElapsed = ref(false);\r\n    const error = ref();\r\n    const data = ref();\r\n    let timerId;\r\n    watch(() => unref(promise), (newPromise) => {\r\n        isRejected.value = false;\r\n        isResolved.value = false;\r\n        error.value = null;\r\n        if (!newPromise) {\r\n            data.value = null;\r\n            if (timerId)\r\n                clearTimeout(timerId);\r\n            timerId = null;\r\n            return;\r\n        }\r\n        if (unref(pendingDelay) > 0) {\r\n            isDelayElapsed.value = false;\r\n            if (timerId)\r\n                clearTimeout(timerId);\r\n            timerId = setTimeout(() => {\r\n                isDelayElapsed.value = true;\r\n            }, Number(unref(pendingDelay)));\r\n        }\r\n        else {\r\n            isDelayElapsed.value = true;\r\n        }\r\n        newPromise\r\n            .then((newData) => {\r\n            // ensure we are dealing with the same promise\r\n            if (newPromise === unref(promise)) {\r\n                data.value = newData;\r\n                isResolved.value = true;\r\n            }\r\n        })\r\n            .catch((err) => {\r\n            // ensure we are dealing with the same promise\r\n            if (newPromise === unref(promise)) {\r\n                error.value = err;\r\n                isRejected.value = true;\r\n            }\r\n        });\r\n    }, { immediate: true });\r\n    return { isPending, isRejected, isResolved, isDelayElapsed, error, data };\r\n}\n\nconst PromisedImpl = /*#__PURE__*/ defineComponent({\r\n    name: 'Promised',\r\n    props: {\r\n        promise: {},\r\n        // validator: p =>\r\n        //   p && typeof (p as any).then === 'function' && typeof (p as any).catch === 'function',\r\n        pendingDelay: {\r\n            type: [Number, String],\r\n            default: 200,\r\n        },\r\n    },\r\n    setup(props, { slots }) {\r\n        const propsAsRefs = toRefs(props);\r\n        const promiseState = reactive(usePromise(propsAsRefs.promise, propsAsRefs.pendingDelay));\r\n        return () => {\r\n            if ('combined' in slots) {\r\n                return slots.combined(promiseState);\r\n            }\r\n            const [slotName, slotData] = promiseState.isRejected\r\n                ? ['rejected', promiseState.error]\r\n                : !promiseState.isPending\r\n                    ? ['default', promiseState.data]\r\n                    : promiseState.isDelayElapsed\r\n                        ? ['pending', promiseState.data]\r\n                        : [null];\r\n            if ((process.env.NODE_ENV !== 'production') && slotName && !slots[slotName]) {\r\n                (isVue3 ? warn : console.warn)(`(vue-promised) Missing slot \"${slotName}\" in Promised component. Pass an empty \"${slotName}\" slot or use the \"combined\" slot to remove this warning. This will fail in production.`);\r\n                return null;\r\n            }\r\n            return slotName && slots[slotName](slotData);\r\n        };\r\n    },\r\n});\r\nconst Promised = PromisedImpl;\n\nexport { Promised, usePromise };\n"],
  "mappings": ";;;;;;;;;;;;;;;;AAcA,SAAS,WAAW,SAAS,eAAe,KAAK;AAC7C,QAAM,aAAa,IAAI,KAAK;AAC5B,QAAM,aAAa,IAAI,KAAK;AAC5B,QAAM,YAAY,SAAS,MAAM,CAAC,WAAW,SAAS,CAAC,WAAW,KAAK;AACvE,QAAM,iBAAiB,IAAI,KAAK;AAChC,QAAM,QAAQ,IAAI;AAClB,QAAM,OAAO,IAAI;AACjB,MAAI;AACJ,QAAM,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe;AACxC,eAAW,QAAQ;AACnB,eAAW,QAAQ;AACnB,UAAM,QAAQ;AACd,QAAI,CAAC,YAAY;AACb,WAAK,QAAQ;AACb,UAAI;AACA,qBAAa,OAAO;AACxB,gBAAU;AACV;AAAA,IACJ;AACA,QAAI,MAAM,YAAY,IAAI,GAAG;AACzB,qBAAe,QAAQ;AACvB,UAAI;AACA,qBAAa,OAAO;AACxB,gBAAU,WAAW,MAAM;AACvB,uBAAe,QAAQ;AAAA,MAC3B,GAAG,OAAO,MAAM,YAAY,CAAC,CAAC;AAAA,IAClC,OACK;AACD,qBAAe,QAAQ;AAAA,IAC3B;AACA,eACK,KAAK,CAAC,YAAY;AAEnB,UAAI,eAAe,MAAM,OAAO,GAAG;AAC/B,aAAK,QAAQ;AACb,mBAAW,QAAQ;AAAA,MACvB;AAAA,IACJ,CAAC,EACI,MAAM,CAAC,QAAQ;AAEhB,UAAI,eAAe,MAAM,OAAO,GAAG;AAC/B,cAAM,QAAQ;AACd,mBAAW,QAAQ;AAAA,MACvB;AAAA,IACJ,CAAC;AAAA,EACL,GAAG,EAAE,WAAW,KAAK,CAAC;AACtB,SAAO,EAAE,WAAW,YAAY,YAAY,gBAAgB,OAAO,KAAK;AAC5E;AAEA,IAAM,eAA6B,gBAAgB;AAAA,EAC/C,MAAM;AAAA,EACN,OAAO;AAAA,IACH,SAAS,CAAC;AAAA,IAGV,cAAc;AAAA,MACV,MAAM,CAAC,QAAQ,MAAM;AAAA,MACrB,SAAS;AAAA,IACb;AAAA,EACJ;AAAA,EACA,MAAM,OAAO,EAAE,MAAM,GAAG;AACpB,UAAM,cAAc,OAAO,KAAK;AAChC,UAAM,eAAe,SAAS,WAAW,YAAY,SAAS,YAAY,YAAY,CAAC;AACvF,WAAO,MAAM;AACT,UAAI,cAAc,OAAO;AACrB,eAAO,MAAM,SAAS,YAAY;AAAA,MACtC;AACA,YAAM,CAAC,UAAU,QAAQ,IAAI,aAAa,aACpC,CAAC,YAAY,aAAa,KAAK,IAC/B,CAAC,aAAa,YACV,CAAC,WAAW,aAAa,IAAI,IAC7B,aAAa,iBACT,CAAC,WAAW,aAAa,IAAI,IAC7B,CAAC,IAAI;AACnB,UAA+C,YAAY,CAAC,MAAM,WAAW;AACzE,SAAC,SAAS,OAAO,QAAQ,MAAM,gCAAgC,mDAAmD,iGAAiG;AACnN,eAAO;AAAA,MACX;AACA,aAAO,YAAY,MAAM,UAAU,QAAQ;AAAA,IAC/C;AAAA,EACJ;AACJ,CAAC;AACD,IAAM,WAAW;",
  "names": []
}
